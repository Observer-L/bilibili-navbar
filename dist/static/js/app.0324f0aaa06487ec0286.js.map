{"version":3,"sources":["webpack:///src/components/Floor.vue","webpack:///./src/components/Floor.vue?ed68","webpack:///./src/components/Floor.vue","webpack:///./src/components/smooth-scroll.js","webpack:///src/components/NavBar.vue","webpack:///./src/components/NavBar.vue?1c90","webpack:///./src/components/NavBar.vue","webpack:///src/App.vue","webpack:///./src/App.vue?b614","webpack:///./src/App.vue","webpack:///./src/main.js"],"names":["Floor","props","floors","type","Array","components_Floor","render","_vm","this","_h","$createElement","_c","_self","staticClass","_l","item","index","attrs","id","_v","_s","name","staticRenderFns","src_components_Floor","__webpack_require__","normalizeComponent","ssrContext","window","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","Quad_easeIn","t","b","c","d","smooth_scroll_scrollTo","end","time","arguments","length","undefined","pageYOffset","document","documentElement","scrollTop","start","promise_default","a","resolve","reject","step","timeStamp","progress","st","body","NavBar","mixins","methods","scrollToTop","scrollToElem","elem","offset","top","getBoundingClientRect","clientTop","scrollTo","options","Object","isSort","Boolean","data","current","floorData","navbarOffsetTop","isDrag","dragId","offsetY","y","height","init","initData","addEventListener","scroll","_this","from_default","items","element","getElementById","offsetTop","getOffsetTop","console","error","bindEvent","dragMove","dragEnd","unbindEvent","removeEventListener","doc","e","i","scrollToFloor","target","activeSort","$emit","startDrag","getPos","preventDefault","replaceItem","splice","clientY","computed","dragStyles","Math","floor","mounted","beforeDestroy","watch","deep","handler","newVal","oldVal","components_NavBar","class","edit-state","style","open","ref","_e","on","drag","click","$event","mousedown","App","components","NavBar_normalizeComponent","sortindex","toggleMask","arr","navCache","localStorage","nav","stringify_default","JSON","parse","number","push","selectortype_template_index_0_src_App","src_App","App_normalizeComponent","vue_esm","config","productionTip","el","template"],"mappings":"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","file":"static/js/app.0324f0aaa06487ec0286.js","sourcesContent":["<template>\r\n    <div class=\"bili-wrapper\">\r\n        <div class=\"floor\" v-for=\"(item, index) in floors\" :id=item.id>\r\n            <h1>{{item.name}}</h1>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n    props: {\r\n        floors: {\r\n            type: Array\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>  \r\n.bili-wrapper {\r\n    margin: 0 auto;\r\n    width: 1160px;\r\n}\r\n.floor {\r\n    height: 460px;\r\n    &:nth-child(even) {\r\n        color: #fff;\r\n        background: salmon;\r\n    }\r\n    h1 {\r\n        position: relative;\r\n        top: 50%;\r\n        transform: translateY(-50%);\r\n        margin: 0;\r\n        font-size: 4rem;\r\n        text-align: center;\r\n    }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/Floor.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"bili-wrapper\"},_vm._l((_vm.floors),function(item,index){return _c('div',{staticClass:\"floor\",attrs:{\"id\":item.id}},[_c('h1',[_vm._v(_vm._s(item.name))])])}))}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6d1b95e2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Floor.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6d1b95e2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Floor.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Floor.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Floor.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6d1b95e2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Floor.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6d1b95e2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Floor.vue\n// module id = null\n// module chunks = ","window.requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame\r\n\r\nconst Quad_easeIn = (t, b, c, d) => c * ((t = t / d - 1) * t * t + 1) + b\r\n\r\nconst scrollTo = (end, time = 800) => {\r\n  let scrollTop = window.pageYOffset || document.documentElement.scrollTop\r\n  let b = scrollTop\r\n  let c = end - b\r\n  let d = time\r\n  let start = null\r\n\r\n  return new Promise((resolve, reject) => {\r\n    function step(timeStamp) {\r\n      if (start === null) start = timeStamp\r\n      let progress = timeStamp - start\r\n      if (progress < time) {\r\n        let st = Quad_easeIn(progress, b, c, d)\r\n        document.body.scrollTop = st\r\n        document.documentElement.scrollTop = st\r\n        window.requestAnimationFrame(step)\r\n      } else {\r\n        document.body.scrollTop = end\r\n        document.documentElement.scrollTop = end\r\n        resolve(end)\r\n      }\r\n    }\r\n    window.requestAnimationFrame(step)\r\n  })\r\n}\r\n\r\nconst scrollToTop = (time) => {\r\n  time = typeof time === 'number' ? time : 800\r\n  return scrollTo(0, time)\r\n}\r\n\r\nconst scrollToElem = (elem, time, offset) => {\r\n  let top = elem.getBoundingClientRect().top + (window.pageYOffset || document.documentElement.scrollTop) - (document.documentElement.clientTop || 0)\r\n  return scrollTo(top - (offset || 0), time)\r\n}\r\n\r\nexport default {\r\n  methods: {\r\n    scrollToTop,\r\n    scrollToElem,\r\n    scrollTo\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/smooth-scroll.js","<template>\n  <div class=\"navbar\" :style=\"{top: navbarOffsetTop + 'px'}\" :class=\"{ 'edit-state' : isSort }\">\n    <div class=\"nav-bg\" :class=\"{'open' : isSort}\">\n      <div class=\"tips-img\"></div>\n    </div>\n    <div class=\"navbar-list\" ref=\"list\">\n      <template v-for=\"(item, index) in floorData\">\n        <div class=\"navbar-item sortable\" v-if=\"isDrag && index === replaceItem && replaceItem <= dragId\"></div>\n        <div \n          class=\"navbar-item sotrable\" \n          :class=\"[{'on' : current === index && !isSort}, {'drag': isDrag && current === index}]\"\n          @click=\"scrollToFloor(index)\"\n          @mousedown=\"startDrag($event, index)\"\n          :style=\"dragStyles\"\n          >{{item.name}}</div>\n          <div class=\"navbar-item sortable\" v-if=\"isDrag && index === replaceItem && replaceItem > dragId\"></div>\n      </template>\n      <div class=\"navbar-item customize\" @click=\"activeSort\">\n        <div>↑↓</div>\n        排序\n      </div>\n    </div>\n    <div class=\"s-line\"></div>\n    <div class=\"back-top\" @click=\"scrollToTop(time)\">↑</div>\n  </div>\n</template>\n\n<script>\n  import scrollMixin from './smooth-scroll.js';\n  \n  export default {\n    mixins: [scrollMixin],\n    props: {\n      options: {\n        type: Object\n      },\n      isSort: {\n        // 是否开启排序模式和遮罩层\n        type: Boolean\n      }\n    },\n    data() {\n      return {\n        current: -1, // 当前到达/选中的楼层的位置，-1为最顶部\n        floorData: [], // 储存楼层name、DOM element和OffsetTop等数据\n        scrollTop: 0, // 当前页面位置距离顶部的距离\n        navbarOffsetTop: 200, // navbar距离页面顶部的距离\n        time: 500, // 滚动缓动动画时间\n        isDrag: false, // 是否在拖拽状态\n        dragId: 0, // 拖拽楼层号\n        offsetY: 0, // 鼠标在要拖拽的元素上的Y坐标上的偏移\n        y: 0, // 被拖拽的元素在其相对的元素上的Y坐标上的偏移\n        height: 32, // 导航栏单层的高度\n      }\n    },\n    methods: {\n      // 初始化\n      init() {\n        this.initData();\n        document.addEventListener('scroll', this.scroll);\n      },\n      initData() {\n        // 初始化导航栏楼层数据floorData\n        this.floorData = Array.from(this.options.items, (item) => {\n          const element = document.getElementById(item.id);\n          if (!element) {\n            console.error(`找不到楼层 ${item.id} `);\n            return;\n          }\n          const offsetTop = this.getOffsetTop(element);\n          return {\n            name: item.name,\n            element: element,\n            offsetTop: offsetTop,\n          }\n        })\n      },\n      bindEvent() {\n        document.addEventListener('mousemove', this.dragMove);\n        document.addEventListener('mouseup', this.dragEnd);\n        document.addEventListener('mouseleave', this.dragEnd);\n      },\n      unbindEvent() {\n        document.removeEventListener('mousemove', this.dragMove);\n        document.removeEventListener('mouseup', this.dragEnd);\n        document.removeEventListener('mouseleave', this.dragEnd);\n      },\n      //获取每一层楼距离顶部的距离\n      getOffsetTop(element) {\n        let top, clientTop, clientLeft, scrollTop, scrollLeft,\n          doc = document.documentElement,\n          body = document.body\n        if (typeof element.getBoundingClientRect !== \"undefined\") {\n          top = element.getBoundingClientRect().top;\n        } else {\n          top = 0\n        }\n        clientTop = doc.clientTop || body.clientTop || 0\n        scrollTop = window.pageYOffset || doc.scrollTop\n        return (top + scrollTop - clientTop)\n      },\n      // 滚动事件处理函数\n      scroll(e) {\n        this.scrollTop = window.pageYOffset || (document.documentElement.scrollTop + document.body.scrollTop);\n        // 判断是否已经滚动到该楼层，使用offset获得更好的交互体验\n        for (let i = 0; i < this.floorData.length; i++) {\n          if (this.scrollTop >= this.floorData[i].offsetTop - this.offset) {\n            this.current = i;\n          } else if (this.scrollTop < this.floorData[0].offsetTop - this.offset) {\n            // 滚动到顶部则取消高亮\n            this.current = -1;\n          };\n          // 设置整个navbarOffsetTop位置\n          this.scrollTop >= this.offset ? this.navbarOffsetTop = 100 : this.navbarOffsetTop = 200;\n        }\n      },\n      scrollToFloor(index) {\n        // 缓动滚动到指定楼层\n        if (index === this.current) return;\n        this.current = index;\n        const target = this.floorData[index].element;\n        this.scrollToElem(target, this.time, this.offset || 0);\n      },\n      activeSort() {\n        // 切换排序模式\n        // 向父组件传值，切换遮罩层和排序模式\n        this.isSort === true ? this.unbindEvent() : this.bindEvent();\n        this.$emit('toggleMask', !this.isSort);\n      },\n      startDrag(e, index) {\n        // 排序模式下拖动导航栏楼层时，获取当前选中楼层ID和鼠标Y轴偏移\n        if (!this.isSort) return;\n        this.isDrag = true;\n        this.current = index;\n        this.dragId = index;\n        this.offsetY = e.offsetY;\n        this.getPos(e);\n      },\n      dragMove(e) {\n        e.preventDefault();\n        return this.isDrag === true ? this.getPos(e) : false;\n      },\n      dragEnd() {\n        if (this.isDrag) {\n          this.isDrag = false;\n          if (this.replaceItem !== this.dragId) {\n            this.options.items.splice(this.replaceItem, 0, this.options.items.splice(this.dragId, 1)[0]);\n          } else {\n            this.scrollToFloor(this.dragId);\n          }\n        }\n      },\n      getPos(e) {\n        // 获取当前选中楼层相对于导航栏的y轴偏移\n        this.y = e.clientY - this.navbarOffsetTop - this.offsetY;\n      }\n    },\n    computed: {\n      //  偏移值\n      offset() {\n        return this.options.offset || 100\n      },\n      // 拖拽的元素的position会变为absolute,dragStyles用来设置其位置,鼠标运动时会调用,从而实现跟随鼠标运动的功能\n      dragStyles() {\n        return {\n          top: `${this.y}px`\n        }\n      },\n      //当被拖拽的元素运动到其他元素的位置时,会使得replaceItem发送变化\n      replaceItem() {\n        let id = Math.floor(this.y / this.height);\n        if (id > this.floorData.length - 1)\n          id = this.floorData.length;\n        if (id < 0)\n          id = 0;\n        return id;\n      }\n    },\n    mounted() {\n      this.init();\n    },\n    beforeDestroy() {\n      document.removeEventListener('scroll', this.scroll);\n      this.unbindEvent();\n    },\n    watch: {\n      //监听options的变化\n      options: {\n        deep: true, // 深度监听\n        handler(newVal, oldVal) {\n          this.initData();\n        }\n      }\n    },\n  }\n</script>\n\n<style lang=\"less\" scoped>\n  .navbar {\n    position: fixed;\n    top: 200px;\n    left: 50%;\n    margin-left: 590px;\n    transition: top .3s ease-in-out;\n    &.edit-state {\n      z-index: 10001;\n    }\n    .navbar-list {\n      position: relative;\n      background-color: #f6f9fa;\n      border: 1px solid #e5e9ef;\n      overflow: hidden;\n      border-radius: 4px;\n      .navbar-item {\n        width: 48px;\n        height: 32px;\n        font-size: 12px;\n        line-height: 32px;\n        text-align: center;\n        cursor: pointer;\n        transition: background-color .3s, color .3s;\n        user-select: none;\n        &:hover,\n        &.on {\n          background-color: #00a1d6;\n          color: #fff;\n        }\n        &.customize {\n          height: 38px;\n          line-height: 20px;\n          padding: 8px 0;\n          border-top: 1px solid #e5e9ef;\n        }\n        &.drag {\n          position: absolute;\n          height: 32px;\n          width: 100%;\n          background: #00a1d6;\n          color: #fff;\n        }\n      }\n    }\n    .back-top {\n      position: relative;\n      display: block;\n      cursor: pointer;\n      height: 48px;\n      background-color: #f6f9fa;\n      border: 1px solid #e5e9ef;\n      overflow: hidden;\n      border-radius: 4px;\n      font-size: 24px;\n      line-height: 48px;\n      text-align: center;\n      transition: background-color .3s, color .3s;\n      user-select: none;\n      &:hover {\n        background-color: #00a1d6;\n        color: #fff;\n      }\n    }\n    .s-line {\n      position: relative;\n      border-left: 1px solid #ddd;\n      border-right: 1px solid #ddd;\n      height: 9px;\n      width: 30px;\n      margin: 0 auto;\n    }\n    .nav-bg {\n      position: absolute;\n      top: -15px;\n      right: 0;\n      width: 60px;\n      height: 100%;\n      padding-bottom: 20px;\n      overflow: hidden;\n      border-radius: 4px;\n      opacity: 0;\n      background: hsla(0, 0%, 100%, .8);\n      transition: all .3s cubic-bezier(.68, -.55, .27, 1.55);\n      &.open {\n        right: -20px;\n        width: 200px;\n        opacity: 1;\n      }\n      .tips-img {\n        position: absolute;\n        width: 117px;\n        height: 333px;\n        background: url(../assets/tab2233.png);\n        left: 12px;\n        top: 14px;\n      }\n    }\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/NavBar.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"navbar\",class:{ 'edit-state' : _vm.isSort },style:({top: _vm.navbarOffsetTop + 'px'})},[_c('div',{staticClass:\"nav-bg\",class:{'open' : _vm.isSort}},[_c('div',{staticClass:\"tips-img\"})]),_vm._v(\" \"),_c('div',{ref:\"list\",staticClass:\"navbar-list\"},[_vm._l((_vm.floorData),function(item,index){return [(_vm.isDrag && index === _vm.replaceItem && _vm.replaceItem <= _vm.dragId)?_c('div',{staticClass:\"navbar-item sortable\"}):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"navbar-item sotrable\",class:[{'on' : _vm.current === index && !_vm.isSort}, {'drag': _vm.isDrag && _vm.current === index}],style:(_vm.dragStyles),on:{\"click\":function($event){_vm.scrollToFloor(index)},\"mousedown\":function($event){_vm.startDrag($event, index)}}},[_vm._v(_vm._s(item.name))]),_vm._v(\" \"),(_vm.isDrag && index === _vm.replaceItem && _vm.replaceItem > _vm.dragId)?_c('div',{staticClass:\"navbar-item sortable\"}):_vm._e()]}),_vm._v(\" \"),_c('div',{staticClass:\"navbar-item customize\",on:{\"click\":_vm.activeSort}},[_c('div',[_vm._v(\"↑↓\")]),_vm._v(\"\\n      排序\\n    \")])],2),_vm._v(\" \"),_c('div',{staticClass:\"s-line\"}),_vm._v(\" \"),_c('div',{staticClass:\"back-top\",on:{\"click\":function($event){_vm.scrollToTop(_vm.time)}}},[_vm._v(\"↑\")])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-e389f93c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/NavBar.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-e389f93c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./NavBar.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./NavBar.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./NavBar.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-e389f93c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./NavBar.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-e389f93c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/NavBar.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <div class=\"header\"></div>\n    <Floor :floors=\"floors\"></Floor>\n    <NavBar \n      :options=\"options\" \n      :isSort=\"isSort\" \n      @toggleMask=\"toggleMask\"></NavBar>\n    <div class=\"footer\"></div>\n    <transition name=\"fade\">\n      <div class=\"mask\" v-if=\"isSort\" @click=\"toggleMask(false)\"></div>\n    </transition>\n  </div>\n</template>\n\n<script>\n  import Floor from './components/Floor';\n  import NavBar from './components/NavBar';\n  \n  export default {\n    name: 'App',\n    components: {\n      Floor,\n      NavBar\n    },\n    data() {\n      return {\n        isSort: false,\n        floors: [{\n          name: '直播',\n          id: 'bili_live',\n          sortindex: 0\n        }, {\n          name: '动画',\n          id: 'bili_douga',\n          sortindex: 1\n        }, {\n          name: '番剧',\n          id: 'bili_bangumi',\n          sortindex: 2\n        }, {\n          name: '国创',\n          id: 'bili_guochuang',\n          sortindex: 3\n        }, {\n          name: '音乐',\n          id: 'bili_music',\n          sortindex: 4\n        }, {\n          name: '音频',\n          id: 'bili_audio',\n          sortindex: 5\n        }, {\n          name: '舞蹈',\n          id: 'bili_dance',\n          sortindex: 6\n        }, {\n          name: '游戏',\n          id: 'bili_game',\n          sortindex: 7\n        }, {\n          name: '科技',\n          id: 'bili_technology',\n          sortindex: 8\n        }, {\n          name: '生活',\n          id: 'bili_life',\n          sortindex: 9\n        }, {\n          name: '鬼畜',\n          id: 'bili_kichiku',\n          sortindex: 10\n        }, {\n          name: '时尚',\n          id: 'bili_fashion',\n          sortindex: 11\n        }, {\n          name: '广告',\n          id: 'bili_ad',\n          sortindex: 12\n        }, {\n          name: '娱乐',\n          id: 'bili_ent',\n          sortindex: 13\n        }, {\n          name: '电影',\n          id: 'bili_movie',\n          sortindex: 14\n        }, {\n          name: 'TV剧',\n          id: 'bili_teleplay',\n          sortindex: 15\n        }, {\n          name: '影视',\n          id: 'bili_cinephile',\n          sortindex: 16\n        }, {\n          name: '纪录片',\n          id: 'bili_documentary',\n          sortindex: 17\n        }, ]\n      }\n    },\n    computed: {\n      options() {\n        let options = {\n          offset: 200,\n          offsetTop: 0,\n          items: this.floors\n        };\n        return options;\n      }\n    },\n    methods: {\n      toggleMask: function (isSort) {\n        // 是否开启排序模式和遮罩层\n        this.isSort = isSort;\n      }\n    },\n    watch: {\n      // 保存位置到localStorage\n      floors: function (arr) {\n        let navCache = Array.from(arr, floor => floor.sortindex);\n        localStorage.nav = JSON.stringify(navCache);\n      }\n    },\n    mounted() {\n      // 从localStorage获取navbar排序记录\n      let navCache = localStorage.nav;\n      if (navCache) {\n        navCache = JSON.parse(navCache);\n        const arr = [];\n        Array.from(navCache, number => {\n          arr.push(this.floors[number]);\n        });\n        this.floors = arr;\n      }\n    },\n  }\n</script>\n\n<style>\n  body {\n    margin: 0;\n    color: #000;\n    font: 12px Helvetica Neue, Helvetica, Arial, Microsoft Yahei, Hiragino Sans GB, Heiti SC, WenQuanYi Micro Hei, sans-serif;\n  }\n  .header,\n  .footer {\n    min-width: 1160px;\n    height: 300px;\n    background: deepskyblue;\n  }\n  .mask {\n    position: fixed;\n    display: block;\n    width: 100%;\n    height: 100%;\n    background: rgba(0,0,0,.5);\n    z-index: 10000;\n    top: 0;\n    left: 0;\n  }\n  .fade-enter-active, .fade-leave-active {\n    transition: opacity .3s;\n  }\n  .fade-enter, .fade-leave-to {\n    opacity: 0;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('div',{staticClass:\"header\"}),_vm._v(\" \"),_c('Floor',{attrs:{\"floors\":_vm.floors}}),_vm._v(\" \"),_c('NavBar',{attrs:{\"options\":_vm.options,\"isSort\":_vm.isSort},on:{\"toggleMask\":_vm.toggleMask}}),_vm._v(\" \"),_c('div',{staticClass:\"footer\"}),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"fade\"}},[(_vm.isSort)?_c('div',{staticClass:\"mask\",on:{\"click\":function($event){_vm.toggleMask(false)}}}):_vm._e()])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3d90e674\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3d90e674\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3d90e674\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}